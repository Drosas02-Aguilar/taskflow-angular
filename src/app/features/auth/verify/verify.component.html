<div class="bg-shape shape-1"></div>
<div class="bg-shape shape-2"></div>

<div class="card-container">
  <div class="card-verify">

    @if (loading()) {
      <div class="status-container">
        <div class="spinner-container">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Verificando...</span>
          </div>
        </div>
        <h1 class="title">Verificando cuenta...</h1>
        <p class="subtitle">Por favor espera mientras verificamos tu cuenta.</p>
      </div>
    }

    @if (!loading() && success()) {
      <div class="status-container">
        <div class="status-icon success">
          <i class="bi bi-check-circle-fill"></i>
        </div>
        <h1 class="title">¡Cuenta verificada!</h1>
        <p class="subtitle">Tu cuenta ha sido verificada correctamente. Ya puedes iniciar sesión y comenzar a usar TaskFlow.</p>
        
        <div class="features-list">
          <div class="feature-item">
            <i class="bi bi-check2"></i>
            <span>Crear y gestionar tareas</span>
          </div>
          <div class="feature-item">
            <i class="bi bi-check2"></i>
            <span>Organizar por estados</span>
          </div>
          <div class="feature-item">
            <i class="bi bi-check2"></i>
            <span>Seguimiento de fechas límite</span>
          </div>
        </div>

        <button (click)="goToLogin()" class="btn-primary-custom">
          <i class="bi bi-box-arrow-in-right me-2"></i>
          Ir a iniciar sesión
        </button>
      </div>
    }

    @if (!loading() && !success()) {
      <div class="status-container">
        <div class="status-icon error">
          <i class="bi bi-x-circle-fill"></i>
        </div>
        <h1 class="title">Error de verificación</h1>
        <p class="subtitle">{{ errorMessage() }}</p>
        
        <div class="info-box">
          <i class="bi bi-info-circle-fill"></i>
          <div>
            <p><strong>Posibles causas:</strong></p>
            <ul>
              <li>El enlace ha expirado (válido por 24 horas)</li>
              <li>La cuenta ya fue verificada anteriormente</li>
              <li>El enlace fue copiado incorrectamente</li>
            </ul>
          </div>
        </div>

        <div class="action-buttons">
          <a routerLink="/auth/login" class="btn-primary-custom">
            <i class="bi bi-box-arrow-in-right me-2"></i>
            Ir al login
          </a>
          <a routerLink="/auth/register" class="btn-secondary-custom">
            <i class="bi bi-person-plus me-2"></i>
            Crear nueva cuenta
          </a>
        </div>
      </div>
    }
  </div>
</div>